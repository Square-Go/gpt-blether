<!DOCTYPE html>
<html>
<head>
	<title>EliisaBot</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:400,700&display=swap">
	<style>
		body {
			margin: 0;
			padding: 0;
			font-family: 'Roboto', sans-serif;
			background-color: #f5f5f5;
			color: #333;
		}

		.header {
			background-color: #fff;
			box-shadow: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24);
			padding: 20px;
			text-align: center;
			position: fixed;
			top: 0;
			left: 0;
			right: 0;
			z-index: 100;
		}

		.container {
			display: flex;
			flex-direction: column;
			align-items: center;
			justify-content: center;
			height: 100vh;
		}


		.box {
			width: 80%;
			max-width: 600px;
			padding: 30px;
			background-color: #fff;
			box-shadow: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24);
			border-radius: 8px;
			text-align: start;
		}

		h1 {
			font-size: 48px;
			font-weight: 700;
			margin-bottom: 20px;
			color: #333;
		}

		p {
			font-size: 18px;
			line-height: 1.5;
			margin-bottom: 20px;
			color: #555;
		}

        hr {
            border-color: #f5f5f5;
            opacity: 0.2;
        }

        form {
			display: flex;
			flex-direction: column;
			align-items: center;
			margin-top: 30px;
		}

		input[type="text"] {
			width: 80%;
			max-width: 400px;
			padding: 10px;
			border: none;
			border-radius: 8px;
			background-color: #eee;
			margin-bottom: 20px;
			font-size: 18px;
			color: #333;
		}

		input[type="submit"] {
			padding: 10px;
			border: none;
			border-radius: 8px;
			background-color: #4CAF50;
			color: #fff;
			font-size: 18px;
			cursor: pointer;
		}

		input[type="submit"]:hover {
			background-color: #3e8e41;
		}

		.spinner {
			border: 0.5rem solid rgba(0, 0, 0, 0.1);
			border-top-color: #4CAF50;
			border-radius: 50%;
			width: 3rem;
			height: 3rem;
			animation: spin 1s ease-in-out infinite;
		}

		@keyframes spin {
			to {
				transform: rotate(360deg);
			}
		}

		.hidden {
			display: none;
		}

		.thinking {
			display: flex;
			flex-direction: column;
			align-items: center;
			margin-top: 30px;
		}

		.thinking p {
			font-size: 18px;
			color: #555;
			margin-top: 10px;
		}

	</style>
</head>
<body>
	<header class="header">
		<h1>{{ bot_name }}</h1>
	</header>

	<main class="container">
		<div class="box">
			{% for message in messages %}
			<p>{% if message['user_name'] == 'user' %}You{% else %}{{ bot_name }}{% endif %}: {{ message['content'] }}</p>
			<hr>
			{% endfor %}
			<form method="POST" id="myForm">
				<input type="hidden" name="convo_id" value="{{ convo_id }}">
				<input type="text" id="content" name="content" placeholder="Type your message here...">
				<input type="submit" id="submitBtn" value="Send">
				<div id="loading" class="hidden">
					<div class="spinner"></div>
					<p>Thinking...</p>
				</div>
			</form>

		</div>
	</main>

	<script>
		var form = document.getElementById('myForm');
		var submitBtn = document.getElementById('submitBtn');
		var loading = document.getElementById('loading');
        var textBox = document.getElementById('content');

		form.addEventListener('submit', function(event) {
			submitBtn.classList.add('hidden');
            textBox.classList.add('hidden');
			loading.classList.remove('hidden');
            loading.classList.remove('thinking');

		});
	</script>
</body>
</html>

